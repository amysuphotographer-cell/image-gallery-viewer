# Image Gallery Viewer

一个优雅的图片评分与对比工具，采用莫兰迪配色风格，支持多文件夹对比、图片标注和智能报告生成。

## ✨ 功能特性

### 📁 图片加载
- **单个文件夹**：逐张浏览评价模式
- **多个文件夹**：自动对比模式（同时显示每个文件夹的第N张图）
- **快速连续添加**：点击"⚡ 快速连续添加"自动弹窗，可快速添加多个文件夹
- **批量添加**：选择父文件夹，自动识别所有子文件夹并批量添加
- **文件夹顺序**：按添加顺序显示，可拖拽调整（会话内保持）
- **支持格式**：JPG, PNG, GIF, WEBP, BMP 以及 RAW 格式（CR2, CR3, NEF, ARW, ORF, DNG 等）
- **RAW 预览**：自动提取嵌入的 JPEG 预览图，无法提取时显示格式图标

### ⌨️ 键盘快捷键
- **空格键**：下一组图片
- **A键**：上一组图片
- **Q键（按住）**：轮换对比文件夹顺序（对比模式或多文件夹主界面）
- **S键**：截图保存当前显示的图片（多文件夹模式）
- **ESC键**：关闭模态框（对比、报告、帮助）

### ⭐ 评分系统
- **三级评分**：😍 喜欢、😐 一般、😢 不喜欢
- **添加评论**：点击评分按钮后可输入文字评价（支持相似评论自动归纳）
- **单一评分模式**：点击"⭐ 单一评分"切换，统一管理所有文件夹的评分
- **多维评分模式**：同一张图片在不同文件夹中可有不同评分
- **实时统计**：4个统计卡片显示喜欢、一般、不喜欢、未评分的百分比和数量
- **悬停预览**：鼠标悬停在统计卡片上可快速预览该类别的图片

### 🔄 对比模式
- **同名对比**：点击图片名查看同名图片在所有文件夹中的版本
- **独立缩放**：每个版本可独立放大、缩小、拖动查看细节
- **同步模式**：点击"🔗 同步缩放"切换，所有图片同步缩放和移动
- **评分对比**：并排展示各版本评分，便于比较
- **文件夹标识**：每个版本标注所属文件夹名称

### ✏️ 画笔标记
- 点击✏️按钮进入标记模式
- 提供画笔、橡皮擦、颜色选择器
- 标记自动保存到浏览器本地
- 下次查看自动加载

### 📊 智能报告
- **Wallpaper*杂志风格**：精致排版，文本标签只出现一次，图片网格展示
- **报告结构**：标题 → 统计卡片 → Goodcase → Badcase（新页）→ 签名区
- **自动归纳**：相似评论自动合并（基于Levenshtein距离算法），重复最多的评论优先展示
- **Goodcase**：仅展示有文字标签的"喜欢"图片，精美排版
- **Badcase**：仅展示有文字标签的"一般"和"不喜欢"图片
- **完全可编辑**：标题、评论、图片文件名、百分比、签名均可直接编辑
- **图片替换**：鼠标悬停显示🔄按钮，可替换报告中的图片
- **图片缩放**：点击图片可放大查看，横向图片自动铺满屏幕
- **签名区域**：报告末尾包含审核人签名和日期

### 💾 导出功能
- 导出TXT格式文件分类清单（便于阅读）
- 导出JSON格式结构化数据（便于程序处理）
- 所有评分和标记自动持久化到浏览器本地存储

### 📖 使用说明
- 点击页面右下角"?"按钮查看思维导图式使用说明
- 详细的功能介绍和操作指南

## 🎨 设计特色

- **莫兰迪配色**：低饱和度、柔和优雅的绿-黄-粉色系
- **Wallpaper*杂志风格**：精致排版，极简主义，专业级视觉呈现
- **设计哲学**：Jobs风格的完全统一性（12px圆角贯穿所有按钮）
- **渐变效果**：精致的渐变色应用于关键元素
- **响应式布局**：自适应不同屏幕尺寸
- **流畅动画**：平滑的过渡和hover效果（cubic-bezier缓动）
- **现代UI**：圆角、阴影、毛玻璃等现代设计元素
- **打印优化**：专为PDF导出优化的报告布局

## 🚀 快速开始

### 在线使用
1. 下载 `index.html` 文件
2. 双击在浏览器中打开
3. 点击"选择文件夹"按钮开始使用

### 本地部署
```bash
# 克隆仓库
git clone https://github.com/your-username/image-gallery-viewer.git

# 进入目录
cd image-gallery-viewer

# 用浏览器打开
open index.html  # macOS
# 或
start index.html  # Windows
```

## 💡 使用技巧

1. **多文件夹对比**：适合对比同一组照片的不同处理版本（如不同修图软件的输出）
2. **批量添加**：选择父文件夹自动识别所有子文件夹，适合批量处理项目
3. **Q键轮换**：按住Q键快速切换文件夹顺序，高效对比不同版本
4. **画笔标记**：标记图片中需要关注的细节问题，标记自动保存
5. **键盘快捷键**：空格/A键快速浏览，S键截图，提升工作效率
6. **单一评分模式**：跨文件夹统一管理评分，适合选片场景
7. **报告编辑**：生成报告后可直接编辑内容（标题、评论、百分比、签名），适合制作演示文稿
8. **图片替换**：在报告中替换图片，方便制作最终版本
9. **同步缩放**：对比模式下开启同步缩放，精确比对图片细节

## 🔧 技术栈

- 纯前端实现，无需后端服务器
- HTML5 + CSS3 + Vanilla JavaScript
- Canvas API（用于画笔功能和截图）
- LocalStorage（用于数据持久化）
- File System API（用于文件夹读取）
- Levenshtein距离算法（用于评论相似度计算）
- RAW图片预览提取（JPEG embedded preview）
- Print CSS优化（PDF导出）

## 📋 浏览器兼容性

- ✅ Chrome 88+
- ✅ Edge 88+
- ✅ Firefox 85+
- ✅ Safari 14+

建议使用最新版本的现代浏览器以获得最佳体验。

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📮 联系方式

如有问题或建议，欢迎通过 Issues 反馈。

---

Made with ❤️ by Claude Code
